<!DOCTYPE html><html><head><meta charset="utf-8"><title>Router Component | Framework7 Documentation</title><meta property="og:image" content="/i/share-banner-v8.jpg"><meta name="viewport" content="width=device-width, viewport-fit=cover"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@framework7io"><meta name="twitter:creator" content="@framework7io"><meta name="twitter:title" content="Router Component | Framework7 Documentation"><meta name="twitter:image" content="https://framework7.io/i/share-banner-v8.jpg"><meta name="theme-color" content="#322624"><link rel="shortcut icon" href="/i/favicon.png"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/main.e6f71f.css"></head><body class="body-docs"><nav><div class="nav-left"><a class="nav-logo" href="/"><img src="/i/logo.svg"><img src="/i/logo-text-white.svg"><span>v8.3.2</span></a></div><div class="nav-right"><div class="nav-searchbar"><input type="search" placeholder="Search"><span class="disable-search"></span></div><ul class="nav-menu"><li><a href="/docs/">Docs</a><ul><li><a href="/docs/introduction.html">Getting Started</a></li><li class="divider"></li><li><a href="/docs/">Framework7 Core / API</a></li><li><a href="/vue/">Framework7 Vue</a></li><li><a href="/react/">Framework7 React</a></li><li><a href="/svelte/">Framework7 Svelte</a></li><li class="divider"></li><li><a href="/cli/">Framework7 CLI</a></li><li><a href="/icons/">Framework7 Icons</a></li><li><a href="/docs/dom7.html">Dom7</a></li><li class="divider"></li><li><a href="/release-notes/">Release Notes</a></li><li class="divider"></li><li><a href="https://v7.framework7.io/" target="_blank">Framework7 v7</a></li></ul></li><li><a>Resources</a><ul><li><a href="https://forum.framework7.io" target="_blank">Community Forum</a></li><li><a href="/tutorials/">Tutorials</a></li><li><a href="/templates/">Templates</a></li><li><a href="/plugins/">Plugins</a></li><li><a href="/showcase/">Apps Showcase</a></li></ul></li><li><a href="https://blog.framework7.io" target="_blank">Blog</a></li><li><a class="github-buttons" href="https://github.com/framework7io/framework7/" target="_blank"><i class="f7-icons">logo_github</i><span class="gh-stars"><span>17,100</span> stars</span></a></li></ul><div class="nav-menu-backdrop"></div><div class="nav-toggle"><span></span><span></span><span></span></div></div></nav><main><div class="docs-nav"><div class="docs-nav-backdrop"></div><div class="docs-nav-toggle"><span></span><span></span><span></span></div><div class="docs-nav-content"><div class="docs-nav-menu"><div class="docs-nav-frameworks"><a href="/docs/"><img src="/i/frameworks/js.svg"></a><a href="/vue/"><img src="/i/frameworks/vue.svg"></a><a href="/react/"><img src="/i/frameworks/react.svg"></a><a href="/svelte/"><img src="/i/frameworks/svelte.svg"></a></div><div class="docs-nav-sponsors"><div class="title"><span>Sponsors</span><a href="https://www.patreon.com/framework7" target="_blank">Become a sponsor</a></div><div class="docs-nav-sponsors-list"><a class="sponsor" href="https://www.noneedtostudy.com/take-my-online-class/" target="_blank"><img src="/i/sponsors/noneedtostudy.png" alt="NoNeedToStudy.com - get help with taking online classes and tests from expert tutors" title="NoNeedToStudy.com - get help with taking online classes and tests from expert tutors"></a><a class="sponsor" href="https://www.nettikasinot.org" target="_blank"><img src="/i/sponsors/nettikasinot.png" alt="Nettikasinot | Tässä parhaat nettikasinot - Katso lista" title="Nettikasinot | Tässä parhaat nettikasinot - Katso lista"></a><a class="sponsor" href="https://www.wfmbuddy.com/" target="_blank"><img src="/i/sponsors/wfmbuddy.png" alt="WFM Buddy - Delighting your Workforce" title="WFM Buddy - Delighting your Workforce"></a></div></div><ul><li><div class="title">Get Started</div><ul><li><a href="introduction.html">Introduction</a></li><li><a href="kitchen-sink.html">Kitchen Sink</a></li><li><a href="installation.html">Installation</a></li><li><a href="package.html">Package Structure</a></li><li><a href="app-layout.html">App HTML Layout</a></li><li><a href="rtl-layout.html">RTL Layout</a></li><li><a href="init-app.html">Initialize App</a></li><li><a href="migration-from-v7-to-v8.html">Migration from v7 to v8</a></li></ul></li><li><div class="title">Events</div><ul><li><a href="events.html">Events</a></li></ul></li><li><div class="title">Router / Navigation</div><ul><li><a href="routes.html">Routes</a></li><li><a href="router-component.html">Router Component</a></li><li><a href="view.html">Router / View API</a></li></ul></li><li><div class="title">Store</div><ul><li><a href="store.html">Store</a></li></ul></li><li><div class="title">Components</div><ul><li><a href="app.html">App / Core</a></li><li><a href="accordion.html">Accordion / Collapsible</a></li><li><a href="action-sheet.html">Action Sheet / Actions</a></li><li><a href="area-chart.html">Area Chart</a></li><li><a href="autocomplete.html">Autocomplete</a></li><li><a href="badge.html">Badge</a></li><li><a href="block.html">Block / Content Block</a></li><li><a href="breadcrumbs.html">Breadcrumbs</a></li><li><a href="button.html">Button</a></li><li><a href="calendar.html">Calendar / Datepicker</a></li><li><a href="cards.html">Cards</a></li><li><a href="checkbox.html">Checkbox</a></li><li><a href="chips.html">Chips / Tags</a></li><li><a href="color-picker.html">Color Picker</a></li><li><a href="contacts-list.html">Contacts List</a></li><li><a href="data-table.html">Data Table</a></li><li><a href="dialog.html">Dialog</a></li><li><a href="floating-action-button.html">Floating Action Button / FAB</a></li><li><a href="form.html">Form Data / Storage</a></li><li><a href="gauge.html">Gauge</a></li><li><a href="grid.html">Grid / Layout Grid</a></li><li><a href="icons.html">Icons</a></li><li><a href="infinite-scroll.html">Infinite Scroll</a></li><li><a href="inputs.html">Inputs / Form Inputs</a></li><li><a href="link.html">Link</a></li><li><a href="list-button.html">List Button</a></li><li><a href="list-view.html">List View</a></li><li><a href="list-index.html">List Index</a></li><li><a href="login-screen.html">Login Screen</a></li><li><a href="menu-list.html">Menu List</a></li><li><a href="messagebar.html">Messagebar</a></li><li><a href="messages.html">Messages</a></li><li><a href="navbar.html">Navbar</a></li><li><a href="notification.html">Notification</a></li><li><a href="page.html">Page</a></li><li><a href="panel.html">Panel / Side Panels</a></li><li><a href="photo-browser.html">Photo Browser</a></li><li><a href="picker.html">Picker</a></li><li><a href="pie-chart.html">Pie Chart</a></li><li><a href="popover.html">Popover</a></li><li><a href="popup.html">Popup</a></li><li><a href="preloader.html">Preloader</a></li><li><a href="progressbar.html">Progressbar</a></li><li><a href="pull-to-refresh.html">Pull to Refresh</a></li><li><a href="radio.html">Radio</a></li><li><a href="range-slider.html">Range Slider</a></li><li><a href="searchbar.html">Searchbar</a></li><li><a href="segmented.html">Segmented</a></li><li><a href="sheet-modal.html">Sheet Modal</a></li><li><a href="skeleton.html">Skeleton</a></li><li><a href="smart-select.html">Smart Select</a></li><li><a href="sortable-list.html">Sortable List</a></li><li><a href="statusbar.html">Statusbar</a></li><li><a href="stepper.html">Stepper</a></li><li><a href="subnavbar.html">Subnavbar</a></li><li><a href="swipeout.html">Swipeout</a></li><li><a href="swiper.html">Swiper</a></li><li><a href="tabs.html">Tabs</a></li><li><a href="text-editor.html">Text Editor</a></li><li><a href="timeline.html">Timeline</a></li><li><a href="toast.html">Toast</a></li><li><a href="toggle.html">Toggle</a></li><li><a href="toolbar-tabbar.html">Toolbar / Tabbar</a></li><li><a href="tooltip.html">Tooltip</a></li><li><a href="treeview.html">Treeview</a></li><li><a href="view.html">View / Router</a></li><li><a href="virtual-list.html">Virtual List</a></li></ul></li><li><div class="title">Framework7 Icons</div><ul><li><a href="/icons/">Framework7 Icons Cheatsheet</a></li></ul></li><li><div class="title">Styling</div><ul><li><a href="safe-areas.html">Safe Areas</a></li><li><a href="color-themes.html">Color Themes</a></li><li><a href="typography.html">Typography</a></li><li><a href="css-variables.html">CSS Variables</a></li></ul></li><li><div class="title">Dom7</div><ul><li><a href="dom7.html">Dom7</a></li></ul></li><li><div class="title">Touch Utilities</div><ul><li><a href="active-state.html">Active State</a></li><li><a href="tap-hold.html">Tap Hold Event (Long Tap)</a></li><li><a href="touch-ripple.html">Touch Ripple</a></li></ul></li><li><div class="title">Utilities</div><ul><li><a href="theme-based-rendering.html">Theme-Based Rendering</a></li><li><a href="utils.html">Utils</a></li><li><a href="device.html">Device</a></li><li><a href="support.html">Support</a></li></ul></li><li><div class="title">Plugins API</div><ul><li><a href="plugins-api.html">Plugins API</a></li></ul></li><li><div class="title">Lazy Modules</div><ul><li><a href="lazy-modules.html">Lazy Modules</a></li></ul></li><li><div class="title">Custom Build</div><ul><li><a href="custom-build.html">Custom Build</a></li></ul></li></ul></div></div></div><div class="docs-content"><h1>Router Component</h1><p>Router Component is a special type of content that can be loaded by Router when we specify route content using <code>component</code> or <code>componentUrl</code> properties.</p><p>It should help to better structure our apps, keep things in appropriate place, and make many things quicker and in a more clear and comfortable way.</p><h2 id="component-function">Component Function</h2><p>Component is a function that receives <code>props</code> and <code>context</code> and should return render function.</p><p>Component render function should return <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates" target="_blank">Tagged template literal</a> with component HTML content.</p><p>For example:</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// some component logic</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>

  <span class="token comment">// return render function</span>
  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> context<span class="token punctuation">.</span>$h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div class="page">
      &lt;p>Value is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p>
    &lt;/div>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="component-template">Component Template</h2><p>As mentioned above component render function should return <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates" target="_blank">Tagged template literal</a> with component HTML content. It has few important things to pay attention to.</p><p><b>All self-closing tags must be closed!</b>. If you will have not closed self-closing tags like <code>&lt;br&gt;</code>, <code>&lt;img src=""&gt;</code>, <code>&lt;input ...&gt;</code>, then compiler will throw an error.</p><p><b>All empty elements can be self-closed</b>:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-div<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- also valid as --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-div<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre><h2 id="component-props">Component Props</h2><p>First argument that receives component function is <code>props</code>. This object will contain all props that you will pass in navigate method, and all route parameters.</p><p>For example if we have the following route:</p><pre><code class="js"><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'/blog/:id'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> MyComponent
<span class="token punctuation">}</span></code></pre><p>And when we navigate to route via <code>/blog/34/</code> URL then it will have <code>props.id</code> equal to <code>'34'</code>.</p><p>And also when we navigate to component using API like so:</p><pre><code class="js">router<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">'/blog/34/'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    foo<span class="token operator">:</span> <span class="token string">'bar'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Then <code>props</code> will be the following object: <code>{ id: '34', foo: 'bar' }</code></p><p>Also props will contain properties passed to custom component as attributes. If custom component has such attributes:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">foo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>25<span class="token punctuation">"</span></span> <span class="token attr-name">user</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>${{name:</span> <span class="token attr-name">'John'}}</span> <span class="token attr-name">number</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>${30}</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">></span></span></code></pre><p>then <code>$props</code> will be:</p><pre><code class="js"><span class="token punctuation">{</span>
  foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
  id<span class="token operator">:</span> <span class="token string">'25'</span><span class="token punctuation">,</span>
  user<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'John'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  number<span class="token operator">:</span> <span class="token number">30</span>
<span class="token punctuation">}</span></code></pre><h2 id="component-context">Component Context</h2><p><code>context</code> object contains a lot of useful helpers:</p><table class="methods-table"><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>$h</td><td><p>Special <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates" target="_blank">Tagged template literal</a> which is must be used to wrap component render function result and all HTML entries inside:</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $h <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'item 1'</span><span class="token punctuation">,</span> <span class="token string">'item 2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div class="page">
      &lt;ul>
        </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
          &lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li>
        </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
      &lt;/ul>
    &lt;/div>
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span></code></pre></td></tr><tr><td>$el</td><td><p>Object where <code>.value</code> property contains Dom7 instance with component HTML element.</p><p><code>$el.value</code> will be available only after component has been mounted (or in any page events like <code>pageInit</code>).</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $el<span class="token punctuation">,</span> $onMounted <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">$onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    $el<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></td></tr><tr><td>$</td><td><p><a href="dom7.html">Dom7</a> library:</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $<span class="token punctuation">,</span> $onMounted <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">$onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></td></tr><tr><td>$f7</td><td><p>Framework7 app instance</p><pre><code class="js">$f7<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span></code></pre></td></tr><tr><td>$store</td><td><p>Store instance. Check <a href="store.html">Store documentation</a> for more details and examples.</p></td></tr><tr><td>$f7route</td><td>Current route. Contains object with route <code>query</code>, <code>hash</code>, <code>params</code>, <code>path</code> and <code>url</code></td></tr><tr><td>$f7router</td><td><p>Related router instance</p><pre><code class="js">$f7router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//navigate back</span></code></pre></td></tr><tr><td>$theme</td><td><p>Object with <code>md</code>, <code>ios</code> boolean properties which indicating current theme. For example:</p><pre><code class="js"><span class="token keyword-block">if</span> <span class="token punctuation">(</span>$theme<span class="token punctuation">.</span>ios<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* do something when iOS theme is active */</span> <span class="token punctuation">}</span>
<span class="token keyword-block">if</span> <span class="token punctuation">(</span>$theme<span class="token punctuation">.</span>md<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* do something when MD theme is active */</span> <span class="token punctuation">}</span></code></pre></td></tr><tr><td>$update(<span>callback</span>)</td><td><p>This method tells that this component and its children need to be re-rendered with the updated state</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $update<span class="token punctuation">,</span> $h <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// initial state</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// update local state</span>
    value <span class="token operator">=</span> <span class="token string">'foo2'</span><span class="token punctuation">;</span>
    <span class="token comment">// call $update method</span>
    <span class="token function">$update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div class="page">
      &lt;p>Value is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p>
      &lt;button @click=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>updateValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>Update Value&lt;/button>
    &lt;/div>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>It is not guaranteed that the DOM changes are applied immediately, so if you rely on DOM (e.g. need to get HTML content or attribute values after state changed) then pass <code>callback</code> function as argument.</p></td></tr><tr><td>$ref(<span>initialValue</span>)</td><td><p>This method creates reactive "variable", which after updating automatically updates component without need to call <code>$update()</code> method.</p><p>It returns an object with <code>value</code> property where new value must be assigned to.</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $ref<span class="token punctuation">,</span> $h <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// create reactive object</span>
  <span class="token keyword">const</span> someVar <span class="token operator">=</span> <span class="token function">$ref</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//-> { value: 'foo' }</span>

  <span class="token keyword">const</span> <span class="token function-variable function">updateValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// update "value" property of the reactive object</span>
    someVar<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div class="page">
      &lt;p>Value is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>someVar<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p>
      &lt;button @click=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>updateValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>Update Value&lt;/button>
    &lt;/div>
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>It is not guaranteed that the DOM changes are applied immediately, so if you rely on DOM (e.g. need to get HTML content or attribute values after state changed) then pass <code>callback</code> function as argument.</p></td></tr><tr><td>$useState(<span>initialValue</span>)</td><td><p>This method creates reactive "state".</p><p><code>$useState</code> accept 3 types of data:</p><ul><li><code>array</code></li><li><code>object</code></li><li><code>atoms</code> - anything that is NOT array or object (string, number, null, etc.)</li></ul><p><code>array</code> & <code>object</code> are kept as they are (they are already refs),</p><p><code>atoms</code> are wrapped in obj via Object.defineProperty (just like <code>$ref</code>)</p><p>For <code>atoms</code> <code>$useState</code> returns:</p><pre><code class="js"><span class="token punctuation">{</span>
  state<span class="token operator">:</span>         <span class="token comment">// state.value</span>
  update<span class="token operator">:</span>  <span class="token punctuation">(</span>v<span class="token punctuation">)</span>   <span class="token comment">// [state.value = value]</span>
  clear<span class="token operator">:</span>   <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// [state.value = undefined]</span>
  method<span class="token operator">:</span>  <span class="token punctuation">(</span>f<span class="token punctuation">)</span>   <span class="token comment">// [custom method]</span>
  <span class="token keyword-block">async</span><span class="token operator">:</span>   <span class="token punctuation">(</span>f<span class="token punctuation">)</span>   <span class="token comment">// [custom method promise]</span>
<span class="token punctuation">}</span>
</code></pre><p>For <code>array</code> <code>$useState</code> returns:</p><pre><code class="js"><span class="token punctuation">{</span>
  state<span class="token operator">:</span>         <span class="token comment">// state.value</span>
  update<span class="token operator">:</span>  <span class="token punctuation">(</span>v<span class="token punctuation">)</span>   <span class="token comment">// [state.length = 0, state.push(...value)]</span>
  remove<span class="token operator">:</span>  <span class="token punctuation">(</span>x<span class="token punctuation">)</span>   <span class="token comment">// [remove item/list by given position]</span>
  clear<span class="token operator">:</span>   <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// [remove all items from array]</span>
  insert<span class="token operator">:</span>  <span class="token punctuation">(</span>x<span class="token punctuation">,</span>v<span class="token punctuation">)</span> <span class="token comment">// [insert item/list at position x]</span>
  replace<span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>v<span class="token punctuation">)</span> <span class="token comment">// [replace item/list at position x]</span>
  append<span class="token operator">:</span>  <span class="token punctuation">(</span>v<span class="token punctuation">)</span>   <span class="token comment">// [append item/list]</span>
  prepend<span class="token operator">:</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span>   <span class="token comment">// [prepend item/list]</span>
  swap<span class="token operator">:</span>    <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment">// [swap index a with index b]</span>
  fromTo<span class="token operator">:</span>  <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment">// [move index a to index b]</span>
  method<span class="token operator">:</span>  <span class="token punctuation">(</span>f<span class="token punctuation">)</span>   <span class="token comment">// [custom method]</span>
  <span class="token keyword-block">async</span><span class="token operator">:</span>   <span class="token punctuation">(</span>f<span class="token punctuation">)</span>   <span class="token comment">// [custom method promise]</span>
<span class="token punctuation">}</span>
</code></pre><p>For <code>object</code> <code>$useState</code> returns:</p><pre><code class="js"><span class="token punctuation">{</span>
  state<span class="token operator">:</span>         <span class="token comment">// state.value</span>
  update<span class="token operator">:</span>  <span class="token punctuation">(</span>v<span class="token punctuation">)</span>   <span class="token comment">// [Object.assign(state,value)]</span>
  remove<span class="token operator">:</span>  <span class="token punctuation">(</span>v<span class="token punctuation">)</span>   <span class="token comment">// [remove key or list of keys]</span>
  clear<span class="token operator">:</span>   <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// [remove all keys from object]</span>
  method<span class="token operator">:</span>  <span class="token punctuation">(</span>f<span class="token punctuation">)</span>   <span class="token comment">// [cunstom method]</span>
  <span class="token keyword-block">async</span><span class="token operator">:</span>   <span class="token punctuation">(</span>f<span class="token punctuation">)</span>   <span class="token comment">// [cunstom method promise]</span>
<span class="token punctuation">}</span></code></pre><p>For example:</p><pre><code class="js"><span class="token comment">// atoms</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> state<span class="token punctuation">,</span> update <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">$useState</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

state<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 'text'</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token string">'new value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 'new value'</span>
<span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 'text'</span></code></pre><pre><code class="js"><span class="token comment">// object</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> state<span class="token punctuation">,</span> update<span class="token punctuation">,</span> remove<span class="token punctuation">,</span> clear <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">$useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

state<span class="token punctuation">;</span> <span class="token comment">// {}</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// { foo: 'bar' }</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'qux'</span><span class="token punctuation">,</span> baz<span class="token operator">:</span> <span class="token string">'quux'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// { foo: 'qux', baz: 'quux' }</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> baz<span class="token operator">:</span> <span class="token string">'corge'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// { foo: 'qux', baz: 'corge' }</span>
<span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// {}</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> grault<span class="token operator">:</span> <span class="token string">'garply'</span><span class="token punctuation">,</span> list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// { grault: 'garply', list: [1, 2, 3] }</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> grault<span class="token operator">:</span> <span class="token literal">null</span><span class="token punctuation">,</span> dummy<span class="token operator">:</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// { grault: null, list: [1, 2, 3], dummy: { key: 'value' } }</span>
<span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'grault'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// { list: [1, 2, 3], dummy: { key: 'value' } }</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">'bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// { list: [1, 2, 3], dummy: { key: 'value' }, foo: 'bar' }</span>
<span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'list'</span><span class="token punctuation">,</span> <span class="token string">'dummy'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state<span class="token punctuation">;</span> <span class="token comment">// { foo: 'bar' }</span></code></pre><pre><code class="js"><span class="token comment">// array</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">,</span> update<span class="token punctuation">,</span> insert<span class="token punctuation">,</span> replace<span class="token punctuation">,</span> append<span class="token punctuation">,</span>
  prepend<span class="token punctuation">,</span> swap<span class="token punctuation">,</span> fromTo<span class="token punctuation">,</span> remove<span class="token punctuation">,</span> clear
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">$useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

state <span class="token comment">// []</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [1, 2, 3]</span>
<span class="token function">append</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [1, 2, 3, 4]</span>
<span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [1, 2, 3, 4, 5, 6]</span>
<span class="token function">prepend</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [-1, 1, 2, 3, 4, 5, 6]</span>
<span class="token function">prepend</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [-3, -2, -1, 1, 2, 3, 4, 5, 6]</span>
<span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [-3, -2, -1, 0, 1, 2, 3, 4, 5, 6]</span>
<span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [-3, -2, -1, 0, 0.5, 0.9, 1, 2, 3, 4, 5, 6]</span>
<span class="token function">replace</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [-3, -2, -1, 0, 0.5, 0.8, 1, 2, 3, 4, 5, 6]</span>
<span class="token function">replace</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [-3, -2, -1, 0, 0.5, 0.8, 1, 22, 2.5, 3, 4, 5, 6]</span>
<span class="token function">swap</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [6, -2, -1, 0, 0.5, 0.8, 1, 22, 2.5, 3, 4, 5, -3]</span>
<span class="token function">fromTo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [6, -1, 0, 0.5, 0.8, 1, 22, 2.5, 3, 4, -2, 5, -3]</span>
<span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [6, -1, 0.5, 0.8, 1, 22, 2.5, 3, 4, -2, 5, -3]</span>
<span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [1, 22, 2.5, 3, 4, -2, 5, -3]</span>
<span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// []</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
state <span class="token comment">// [1, 2, 3]</span>
</code></pre></td></tr><tr><td>$tick(<span>callback</span>)</td><td><p>You can also use this method if you rely on DOM and need to be sure that component state and DOM updated after calling <code>$update()</code> methods.</p><p>Passed callback will be executed on DOM update.</p><p>This method returns Promise that will also be resolved on DOM update.</p><p>So you can use it as this:</p><pre><code class="js"><span class="token function">$update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">$tick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOM and state updated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Or as Promise</span>
<span class="token function">$tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOM and state updated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Or in async function/method as:</span>
<span class="token keyword-block">await</span> <span class="token function">$tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOM and state updated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></td></tr><tr><td>$f7ready(<span>callback</span>)</td><td><p>This method need to be used only when you use <a href="#main-app-component">Main App Component</a> to make sure to call Framework7 APIs when app initialized.</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">AppComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $f7<span class="token punctuation">,</span> $f7ready <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">$f7ready</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// now it is safe to call Framework7 APIs</span>
    $f7<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></td></tr><tr><th colspan="2">Events</th></tr><tr><td>$on</td><td><p>Function to attach DOM events handlers to component root element</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $on <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// attach 'pageInit' event handler</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageInit'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre><p>Such event handlers will be automatically detached when component destroyed</p></td></tr><tr><td>$once</td><td><p>Function to attach DOM events handlers to component root element. Same as <code>$on</code> but such handlers will be executed only once.</p></td></tr><tr><td>$emit(<span>event</span>, <span>data</span>)</td><td><p>Function to emit custom DOM events in re-usable custom components:</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// emits custom event</span>
  <span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'myevent'</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre><p>And in other parent component:</p><pre><code class=""><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">@myevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>${doSomething}</span> <span class="token punctuation">/></span></span></code></pre></td></tr><tr><th colspan="2">Lifecycle Hooks</th></tr><tr><td>$onBeforeMount</td><td>Called right before component will be added to DOM</td></tr><tr><td>$onMounted</td><td><p>Called right after component was be added to DOM</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $onMounted <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// do something when component mounted</span>
  <span class="token function">$onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'component mounted'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></td></tr><tr><td>$onBeforeUpdate</td><td>Called right after component before VDOM will be patched/updated</td></tr><tr><td>$onUpdated</td><td>Called right after component VDOM has been patched/updated</td></tr><tr><td>$onBeforeUnmount</td><td>Called right before component will be unmounted (detached from the DOM)</td></tr><tr><td>$onUnmounted</td><td>Called when component unmounted and destroyed</td></tr></tbody></table><p>So the example route with page component may look like:</p><pre><code class="js">routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/some-page/'</span><span class="token punctuation">,</span>
    <span class="token comment">// Component</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $h<span class="token punctuation">,</span> $f7<span class="token punctuation">,</span> $on <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token string">'Component Page'</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'John'</span><span class="token punctuation">,</span> <span class="token string">'Vladimir'</span><span class="token punctuation">,</span> <span class="token string">'Timo'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> <span class="token function-variable function">openAlert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        $f7<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageInit'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// do something on page init</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageAfterOut'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// page has left the view</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        &lt;div class="page">
          &lt;div class="navbar">
            &lt;div class="navbar-bg">&lt;/div>
            &lt;div class="navbar-inner">
              &lt;div class="title"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div>
            &lt;/div>
          &lt;/div>
          &lt;div class="page-content">
            &lt;a @click=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>openAlert<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> class="red-link">Open Alert&lt;/a>
            &lt;div class="list simple-list">
              &lt;ul>
                </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
                  &lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li>
                </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
              &lt;/ul>
            &lt;/div>
          &lt;/div>
        &lt;/div>
      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span>
</code></pre><h2 id="component-page-events">Component Page Events</h2><p>Component page events handlers can be passed in <code>$on</code> component event handler. They are usual DOM <a href="page.html#page-events">Page Events</a>. Because they are DOM events, they accept <code>event</code> as first agrument, and <a href="page.html#page-data">Page Data</a> as second argument. There only difference with usual DOM events is that event handler name must be specified in camelCase format (<code>page:init</code> -> <code>pageInit</code>):</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $on <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageMounted'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'page mounted'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageInit'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'page init'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageBeforeIn'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'page before in'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageAfterIn'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'page after in'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageBeforeOut'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'page before out'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageAfterOut'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'page after out'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageBeforeUnmount'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'page before unmount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageBeforeRemove'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'page before remove'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="dom-events-handling">DOM Events Handling</h2><p>Note that additional <code>@</code> attribute in component template. It is a shorthand method to assign event listener to the specified element. Specified event handler will be searched in component scope.</p><p>Such event handler attribute value must be a function:</p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $h<span class="token punctuation">,</span> $update <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">addValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    value <span class="token operator">+=</span> number<span class="token punctuation">;</span>
    <span class="token function">$update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div class="page">
      &lt;!-- pass function to attribute -->
      &lt;button @click=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>onClick<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>Button&lt;/button>

      &lt;!-- also work -->
      &lt;button @click=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>Button&lt;/button>

      &lt;!-- will not work, attribute value "onClick" is just a string -->
      &lt;button @click="onClick">Button&lt;/button>

      &lt;!-- passing dynamic data will work as expected -->
      &lt;button @click=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">addValue</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>Button&lt;/button>
    &lt;/div>
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span></code></pre><p>Event handlers are processed only on initial rendering, or for elements patched with VDOM. <b>If you add such element to DOM manually it won't work!</b></p><pre><code class="js"><span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $h<span class="token punctuation">,</span> $on <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageInit'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> page</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// this won't work</span>
    page<span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'&lt;a @click="onClick">Link&lt;/a>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div class="page">
    &lt;/div>
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
</code></pre><h2 id="component-root-element">Component Root Element</h2><p>Component template or render function must return only single HTML element. And it must be an element that is supported by router:</p><ul><li><p>If you load pages as router component then router component must return Page element:<pre><code class=""><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre></p></li><li><p>If you load modal (<a href="routes.html#routable-modals">Routable Modals</a>) as router component then router component must return that modal element:<pre><code class=""><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>popup<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre></p></li><li><p>If you load panel (<a href="routes.html#routable-panels">Routable Panels</a>) as router component then router component must return Panel element:<pre><code class=""><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>panel panel-left panel-cover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre></p></li><li><p>If you load tab content (<a href="routes.html#routable-tabs">Routable Tabs</a>) as router component then router component must return Tab's child element that will be inserted inside of routable Tab:<pre><code class=""><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>some-element<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre></p></li></ul><h2 id="single-file-component">Single File Component</h2><p>It is not very comfortable to specify all component routes under same routes array, especially if we have a lot of such routes. This is why we can use <code>componentUrl</code> instead and put component into single file:</p><pre><code class="js">routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token operator">...</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/some-page/'</span><span class="token punctuation">,</span>
    componentUrl<span class="token operator">:</span> <span class="token string">'./some-page.f7'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>And in <code>some-page.f7</code>:</p><pre><code class="html"><span class="token comment">&lt;!-- component template, uses same tagged template literals --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-bg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-inner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>${title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>${openAlert}</span><span class="token punctuation">></span></span>Open Alert<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list simple-list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
          ${names.map((name) => $h`
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>${name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
          `)}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- component styles --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.red-link</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- rest of component logic --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// script must return/export component function</span>
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $f7<span class="token punctuation">,</span> $on <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token string">'Component Page'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'John'</span><span class="token punctuation">,</span> <span class="token string">'Vladimir'</span><span class="token punctuation">,</span> <span class="token string">'Timo'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">openAlert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      $f7<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageInit'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// do something on page init</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageAfterOut'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// page has left the view</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// component function must return render function</span>
    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>Well, now it is much cleaner. The <code>&lt;template&gt;</code> and <code>&lt;style&gt;</code> tags will be automatically converted to the same properties of exported component.</p><div class="important-note"><p>It is mandatory to have <code>return $render</code> in the end of the component function, as it will be replaced by parser with content of the <code>&lt;template&gt;</code> tag.</p></div><h3 id="usage-with-webpack-and-vite">Usage With Webpack and Vite</h3><p>For Webpack there is a special <a href="https://github.com/framework7io/framework7-loader" target="_blank">framework7-loader</a> plugin that allows to bundle Single-File Components into main bundle and not to use XHR (e.g. <code>componentUrl</code>) to load and parse component files each time.</p><p>For Vite.js there is also special <a href="https://github.com/framework7io/rollup-plugin-framework7" target="_blank">rollup-plugin-framework7</a> plugin to bundle Single-File Components.</p><p>These plugins parse Single-File component's file and transforms it to plain JS object during bundling process. So, potentially, it can increase app performance because there won't be runtime parsing and compilation.</p><p>When plugin is configured, we need to store Single-File components in <code>.f7</code> (or in <code>.f7.html</code> for Webpack) files and use <code>export default</code> for component export:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">doThis</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>It also possible to import required dependencies and styles:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">import</span> <span class="token string">'./path/to/some-styles.css'</span><span class="token punctuation">;</span>
  <span class="token keyword-block">import</span> utils <span class="token keyword-block">from</span> <span class="token string">'./path/to/utils.js'</span><span class="token punctuation">;</span>

  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> now <span class="token operator">=</span> utils<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">doThis</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>And then we can import it and add to routes:</p><pre><code class="js"><span class="token comment">// routes.js</span>

<span class="token keyword-block">import</span> NewsPage <span class="token keyword-block">from</span> <span class="token string">'./path/to/news.f7'</span><span class="token punctuation">;</span>
<span class="token keyword-block">import</span> ServicesPage <span class="token keyword-block">from</span> <span class="token string">'./path/to/services.f7'</span><span class="token punctuation">;</span>

<span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/news/'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> NewsPage<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/services/'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> ServicesPage<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h3 id="jsx">JSX</h3><p>Template literals doesn't have good syntax highlighting inside of HTML documents. But when using with webpack or Vite, it is also possible to write components in <a href="https://facebook.github.io/jsx/" target="_blank">JSX syntax</a>.</p><p>To make it work, we need to store components in <code>.f7.jsx</code> files and write them using JSX:</p><pre><code class="jsx"><span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $update <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Item 1'</span><span class="token punctuation">,</span> <span class="token string">'Item 2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">addValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    value <span class="token operator">+=</span> number<span class="token punctuation">;</span>
    <span class="token function">$update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//- render function should returns JSX</span>
  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">The value is </span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* JSX doesn't support @ in attribute name so event handlers should start from "on" */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">addValue</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Add Value</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre><p>And import them in the same way in <code>routes.js</code>:</p><pre><code class="js"><span class="token keyword-block">import</span> NewsPage <span class="token keyword-block">from</span> <span class="token string">'./path/to/news.f7.jsx'</span><span class="token punctuation">;</span>
<span class="token keyword-block">import</span> ServicesPage <span class="token keyword-block">from</span> <span class="token string">'./path/to/services.f7.jsx'</span><span class="token punctuation">;</span>

<span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/news/'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> NewsPage<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/services/'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> ServicesPage<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><h2 id="virtual-dom">Virtual DOM</h2><div class="important-note"><p><b>Virtual DOM and all VDOM related features available from Framework7 version 3.1.0.</b></p></div><p>The virtual DOM (VDOM) is a programming concept where an ideal, or "virtual", representation of a UI is kept in memory and synced with the "real" DOM. It allows us to express our application's view as a function of its state.</p><p>VDOM library called <a href="https://github.com/snabbdom/snabbdom" target="_blank">Snabbdom</a> because it is extremely lightweight, fast and fits great for Framework7 environment.</p><p>So how does Framework7 router component VDOM rendering works? Component template is converted to VDOM instead of directly inserting to DOM. Later, when component state changes, it creates new VDOM and compares it with previous VDOM. And based on that diff it patches real DOM by changing only elements and attributes that need to be changed. And all this happens automatically!</p><p>Let's look at that user profile component example that will auto update layout when we request user data:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-bg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-inner<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      ${user &amp;&amp; $h`
        <span class="token comment">&lt;!-- Show user list when it is loaded --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list simple-list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>First Name: ${user.firstName}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Last Name: ${user.lastName}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Age: ${user.age}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      `}
      ${!user &amp;&amp; $h`
        <span class="token comment">&lt;!-- Otherwise show preloader --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>block block-strong text-align-center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preloader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      `}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $on<span class="token punctuation">,</span> $f7<span class="token punctuation">,</span> $update <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// empty initial user data</span>
    <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token literal">null</span><span class="token punctuation">;</span>

    <span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'pageInit'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// request user data on page init</span>
      <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.website.com/get-user-profile'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// update user with new data</span>
          user <span class="token operator">=</span> data<span class="token punctuation">;</span>
          <span class="token comment">// trigger re-render</span>
          <span class="token function">$update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><div class="important-note"><p>Note, that direct assignment to component state won't trigger layout update. Use <code>$update</code> whenever you need to update component layout!</p></div><h3 id="keys-in-lists-auto-init-components">Keys in Lists & Auto-Init Components</h3><p>When VDOM is updating a list of elements, by default it uses an "in-place patch" strategy. If the order of the data items has changed, instead of moving the DOM elements to match the order of the items, it will patch each element in-place and make sure it reflects what should be rendered at that particular index.</p><p>This default mode is efficient, but only suitable <b>when your render output does not rely on child component state or temporary DOM state (e.g. form input values)</b>.</p><p>To give VDOM a hint so that it can track each node's identity, and thus reuse and reorder existing elements, you need to provide a unique <code>key</code> attribute for each item.</p><p>When rendering lists, an ideal value for <code>key</code> would be the unique id of each item:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    ${items.map((item) => $h`
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>${item.id}</span><span class="token punctuation">></span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    `)}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">'Item A'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token string">'Item B'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><p>Same with auto-initialized components like <a href="./range-slider.html">Range Slider</a>, <a href="./gauge.html">Gauge</a> and others that should be automatically initialized (if they have <code>range-slider-init</code>, <code>gauge-init</code>) when they added to DOM, and automatically destroyed when they removed from DOM. So such elements must be also indentified with unique keys.</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      ${gaugeVisible &amp;&amp; $h`
        <span class="token comment">&lt;!-- must have unique key --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gauge<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gauge gauge-init<span class="token punctuation">"</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>circle<span class="token punctuation">"</span></span>
          <span class="token attr-name">data-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.60<span class="token punctuation">"</span></span>
          <span class="token attr-name">data-value-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>60%<span class="token punctuation">"</span></span>
          <span class="token attr-name">data-value-text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#ff9800<span class="token punctuation">"</span></span>
          <span class="token attr-name">data-border-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#ff9800<span class="token punctuation">"</span></span>
        <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      `}
      ...
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>${showGauge}</span><span class="token punctuation">></span></span>Show Gauge<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $update <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> gaugeVisible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">showGauge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      gaugeVisible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">$update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><div class="important-note"><ul><li>Note that <code>key</code> attribute must be unique accross single component.</li><li>If <code>key</code> attribute was not specified and element has an <code>id</code> attribute, then <code>id</code> attribute will be used as virtual node unique key.</li></ul></div><h3 id="innerhtml">innerHTML</h3><p>If we need to insert HTML string (for example, received from API endpoint), we need to use special <code>innerHTML</code> element prop/attribute:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>block<span class="token punctuation">"</span></span> <span class="token attr-name">innerHTML</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>${customHTML}</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> customHTML <span class="token operator">=</span> <span class="token string">'&lt;p>Hello &lt;b>World!&lt;/b>&lt;/p>'</span><span class="token punctuation">;</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><div class="important-note"><p>Using <code>innerHTML</code> on element will override all its children.</p><p>HTML content passed in <code>innerHTML</code> is just a string and, for example, component event handlers (like <code>@click</code> attribute) won't work.</p></div><h2 id="main-app-component">Main App Component</h2><p>It is possible to make whole app layout as a component.</p><div class="important-note"><p>Note that due to VDOM implementation it is highly recommended to add unique <code>id</code> or <code>key</code> attribute to every auto initialized View (View with <code>view-init</code> class):</p></div><p>To enable it, first, we should keep app root element empty in <code>index.html</code>:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- empty app root element --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre><p>Then we need to create main app component, for example, Single File Component using Vite:</p><pre><code class="html"><span class="token comment">&lt;!-- app.f7 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ${loggedIn.value &amp;&amp; $h`
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>panel panel-left panel-reveal panel-init<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- every View has unique ID attribute --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view view-init<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view-panel<span class="token punctuation">"</span></span> <span class="token attr-name">data-url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/panel/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view view-main view-init<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view-main<span class="token punctuation">"</span></span> <span class="token attr-name">data-url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    `}
    ${!loggedIn.value &amp;&amp; $h`
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>login-screen modal-in<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view view-init<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>view-auth<span class="token punctuation">"</span></span> <span class="token attr-name">data-url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/auth/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    `}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $store <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> loggedIn <span class="token operator">=</span> $store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>loggedIn<span class="token punctuation">;</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>Finally, when we init Framework7, we need to specify app component on init:</p><pre><code class="js"><span class="token comment">// import main app component</span>
<span class="token keyword-block">import</span> App <span class="token keyword-block">from</span> <span class="token string">'./path/to/app.f7'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Framework7</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// specify main app component</span>
  component<span class="token operator">:</span> App<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Or, if we don't use webpack, we can also load it via XHR:</p><pre><code class="js"><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Framework7</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// load main app component</span>
  componentUrl<span class="token operator">:</span> <span class="token string">'./path/to/app.f7'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>Also note that main app component will be mounted (added to DOM) BEFORE app initialization process finished. So if you need to call Framework7 APIs immediately, use <code>$f7ready</code> callback:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $f7ready<span class="token punctuation">,</span> $f7 <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">$f7ready</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// now it is safe to call Framework7 APIs</span>
      $f7<span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><h2 id="custom-components">Custom Components</h2><h3 id="register-components">Register Components</h3><p>It is possible to create custom reusable components. We need to do it BEFORE Framework7 initialization with the following method:</p><div class="method-wrap"><p><span class="method">Framework7.registerComponent(<span>tagName</span>, <span>component</span>)</span>- register custom component</p><ul class="method-parameters"><li><span class="parameter">tagName</span> - <span class="parameter-type">string</span>. Component tag name, e.g. <code>my-component</code> (will be used as <code>&lt;my-component&gt;</code>).<p class="important-note">Custom component tag name must contain a hyphen/dash character "<code>-</code>"</p></li><li><span class="parameter">component</span> - <span class="parameter-type">object</span> or <span class="parameter-type">class</span>. Component function</li></ul></div><div class="important-note"><p>Note, at the moment, it is possible to use custom components only in router components (components loaded by router).</p></div><pre><code class="js">Framework7<span class="token punctuation">.</span><span class="token function">registerComponent</span><span class="token punctuation">(</span>
  <span class="token comment">// component name</span>
  <span class="token string">'my-list-item'</span><span class="token punctuation">,</span>

  <span class="token comment">// component function</span>
  <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $h <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>

    <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;li class="item-content" id="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">">...&lt;/li>
    </span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span></code></pre><p>And use it in other components like:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-list-item</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-list-item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>Note, that attributes passed to custom component element available in component <code>props</code>.</p><h3 id="local-components">Local Components</h3><p>It is possible to create local custom components in components:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- use tag names as variables --></span>
    &lt;${ListItem} title="Item 1" />
    &lt;${ListItem} title="Item 2" />
    &lt;${ListItem} title="Item 3" />
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// create local component</span>
  <span class="token keyword">const</span> <span class="token function-variable function">ListItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> $h <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $h<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// export main component</span>
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>Or they can be imported:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- use tag names as variables --></span>
    &lt;${ListItem} title="Item 1" />
    &lt;${ListItem} title="Item 2" />
    &lt;${ListItem} title="Item 3" />
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// import component</span>
  <span class="token keyword-block">import</span> ListItem <span class="token keyword-block">from</span> <span class="token string">'path/to/list-item.f7'</span><span class="token punctuation">;</span>

  <span class="token comment">// export main component</span>
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>With JSX:</p><pre><code class="jsx"><span class="token keyword">const</span> <span class="token function-variable function">ListItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword-block">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">/* or
import ListItem from 'path/to/list-item.f7.jsx'
*/</span>

<span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ListItem</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Item 1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ListItem</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Item 2<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ListItem</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Item 3<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre><p>In JSX, it can be created inside of the main component:</p><pre><code class="jsx"><span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

  <span class="token keyword">const</span> <span class="token function-variable function">ListItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword-block">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ListItem</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Item 1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ListItem</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Item 2<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ListItem</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Item 3<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="events">Events</h3><p>You can assign DOM events for custom component in templates with same <code>@{event}</code> syntax. Event handler will be actually attached to custom component root element.</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onClick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token built-in">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'clicked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><h3 id="slots">Slots</h3><p>If we need to pass children elements (or text) to custom component we need to use slots. Slots implementation here is similar to <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots#Adding_flexibility_with_slots" target="_blank">Web Components slots</a>.</p><p>With <code>slot</code> tag we specify where component children should be placed. For example <code>my-button</code> component template:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button button-fill<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p>Can be used then like this:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-button</span><span class="token punctuation">></span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-button</span><span class="token punctuation">></span></span></code></pre><p>To specify slot default value (when no children passed), we just put it inside <code>&lt;slot&gt;</code> tag:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button button-fill<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span>Default Button Text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre><p>To distribute elements across component layout, we can use named slots. For example, template of <code>my-container</code> component:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>And we can use it like following:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-container</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Text for main content.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>More text for main content.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Footer content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-container</span><span class="token punctuation">></span></span></code></pre><p>And component result output will be:</p><pre><code class="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Text for main content.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>More text for main content.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Footer content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre><h2 id="template-recepies">Template Recepies</h2><h3 id="conditional-rendering">Conditional Rendering</h3><p>To implement conditions in JavaScript we usually use <code>if</code> (<code>if-else</code>) statements. Inside of templates and JSX we can't use them directly and should use JavaScript operators.</p><h4><code>if</code></h4><p>For <code>if</code> statement we should use logical AND (<code>&&</code>) operator:</p><pre><code class=""><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ${someVar &amp;&amp; $h`
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Text will be visible when "someVar" is truthy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    `}

    ${someVar === 1 &amp;&amp; $h`
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Text will be visible when "someVar" equals to 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    `}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> someVar <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>Same using JSX:</p><pre><code class="jsx"><span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> someVar <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>someVar <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Text will be visible when "someVar" is truthy</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">

      </span><span class="token punctuation">{</span>someVar <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Text will be visible when "someVar" equals to 1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre><h4><code>if-else</code></h4><p>For <code>if-else</code> we can use Ternary operator (<code>?:</code>) or combination of <code>&&</code> and <code>!</code> operators:</p><pre><code class=""><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    ${someVar ? $h`
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Text will be visible when "someVar" is truthy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    ` : $h`
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Text will be visible when "someVar" is falsy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    `}

    {someVar &amp;&amp; (
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Text will be visible when "someVar" is truthy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    )}
    {!someVar &amp;&amp; (
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Text will be visible when "someVar" is falsy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    )}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> someVar <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>Same using JSX:</p><pre><code class="jsx"><span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> someVar <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>someVar <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Text will be visible when "someVar" is truthy</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Text will be visible when "someVar" is falsy</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">

      </span><span class="token punctuation">{</span>someVar <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Text will be visible when "someVar" is truthy</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token operator">!</span>someVar <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Text will be visible when "someVar" is falsy</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">

    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre><h3 id="mapping-array-to-elements">Mapping Array To Elements</h3><p>To map array to elements we use Array's <code>.map()</code> method:</p><pre><code class=""><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    ${items.map((item) => $h`
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>${item}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    `)}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token string">'item 1'</span><span class="token punctuation">,</span>
      <span class="token string">'item 2'</span><span class="token punctuation">,</span>
      <span class="token string">'item 3'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword-block">return</span> $render<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>Same using JSX:</p><pre><code class="jsx"><span class="token keyword-block">export</span> <span class="token keyword-block">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'item 1'</span><span class="token punctuation">,</span>
    <span class="token string">'item 2'</span><span class="token punctuation">,</span>
    <span class="token string">'item 3'</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword-block">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div><div class="docs-right"><div class="docs-right-block"><div class="improve-docs-link"><a href="https://github.com/framework7io/framework7-website/edit/master/src/pug/docs/router-component.pug" target="_blank">Improve this Doc</a></div></div><div class="docs-right-block docs-right-block-index"><div class="docs-index-title">On this page</div><ul class="docs-index"><li><a href="#component-function">Component Function</a></li><li><a href="#component-template">Component Template</a></li><li><a href="#component-props">Component Props</a></li><li><a href="#component-context">Component Context</a></li><li><a href="#component-page-events">Component Page Events</a></li><li><a href="#dom-events-handling">DOM Events Handling</a></li><li><a href="#component-root-element">Component Root Element</a></li><li><a href="#single-file-component">Single File Component</a></li><ul><li><a href="#usage-with-webpack-and-vite">Usage With Webpack and Vite</a></li><li><a href="#jsx">JSX</a></li></ul><li><a href="#virtual-dom">Virtual DOM</a></li><ul><li><a href="#keys-in-lists-auto-init-components">Keys in Lists & Auto-Init Components</a></li><li><a href="#innerhtml">innerHTML</a></li></ul><li><a href="#main-app-component">Main App Component</a></li><li><a href="#custom-components">Custom Components</a></li><ul><li><a href="#register-components">Register Components</a></li><li><a href="#local-components">Local Components</a></li><li><a href="#events">Events</a></li><li><a href="#slots">Slots</a></li></ul><li><a href="#template-recepies">Template Recepies</a></li><ul><li><a href="#conditional-rendering">Conditional Rendering</a></li><li><a href="#mapping-array-to-elements">Mapping Array To Elements</a></li></ul></ul></div></div></main><footer><div class="center"><div class="links"><div class="links-block"><div class="links-block-title">Project</div><ul><li><a href="https://github.com/framework7io/framework7/releases" target="_blank">Download</a></li><li><a href="/sponsors/">Sponsors</a></li><li><a href="https://blog.framework7.io" target="_blank">Blog</a></li><li><a href="/release-notes/">Release Notes</a></li></ul></div><div class="links-block"><div class="links-block-title">Docs</div><ul><li><a href="/docs/">Framework7 Core / API</a></li><li><a href="/vue/">Framework7 Vue</a></li><li><a href="/react/">Framework7 React</a></li><li><a href="/svelte/">Framework7 Svelte</a></li><li><a href="/cli/">Framework7 CLI</a></li><li><a href="/icons/">Framework7 Icons</a></li><li><a href="/docs/dom7.html">Dom7</a></li><li><a href="https://v7.framework7.io">Framework7 v7</a></li></ul></div><div class="links-block"><div class="links-block-title">Resources</div><ul><li><a href="https://forum.framework7.io" target="_blank">Community Forum</a></li><li><a href="/tutorials/">Tutorials</a></li><li><a href="/templates/">Templates</a></li><li><a href="/plugins/">Plugins</a></li><li><a href="/showcase/">Apps Showcase</a></li></ul></div><div class="links-block"><div class="links-block-title">Connect</div><ul><li><a href="https://twitter.com/framework7io" target="_blank">Twitter</a></li><li><a href="https://github.com/framework7io" target="_blank">GitHub</a></li><li><a href="https://facebook.com/framework7io" target="_blank">Facebook</a></li></ul></div><div class="footer-sponsors"><div class="footer-sponsors-title">Sponsored by</div><div class="custom-sponsors"><a class="border" href="https://www.noneedtostudy.com/take-my-online-class/" target="_blank"><img src="/i/sponsors/noneedtostudy.png" alt="NoNeedToStudy.com - get help with taking online classes and tests from expert tutors" title="NoNeedToStudy.com - get help with taking online classes and tests from expert tutors"></a><a class="border" href="https://www.nettikasinot.org" target="_blank"><img src="/i/sponsors/nettikasinot.png" alt="Nettikasinot | Tässä parhaat nettikasinot - Katso lista" title="Nettikasinot | Tässä parhaat nettikasinot - Katso lista"></a><a class="border" href="https://www.wfmbuddy.com/" target="_blank"><img src="/i/sponsors/wfmbuddy.png" alt="WFM Buddy - Delighting your Workforce" title="WFM Buddy - Delighting your Workforce"></a></div></div></div><div class="copy"><div class="copy-left"><p>Code licensed under <a href="https://github.com/framework7io/framework7/blob/master/LICENSE" target="_blank">MIT</a></p><p>2024 © Framework7 is brought to you by <a href="https://github.com/nolimits4web/" target="_blank">Vladimir Kharlampidi</a>.</p></div><div class="clearfix"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script><script src="/js/main.9faee2.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JP28Y9LMRE"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-JP28Y9LMRE');
window.gtag = gtag;</script></body></html>